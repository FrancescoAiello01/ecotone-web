.row
  .col-md-6.col-md-offset-3
    = form_for(@biodiversity_report, html: {multipart: true}) do |form|
      = form_errors_for(@biodiversity_report)
      = form.label :plot_id, 'Plot'
      = form.collection_select :plot_id, @plots, :id, :name, include_blank: 'Choose one'
      = form.label :measured_on, 'Date'
      = form.date_field :measured_on, class: 'form-control'
      = form.label :measured_at, 'Time'
      = form.time_field :measured_at, class: 'form-control'
      = form.label :temperature
<<<<<<< HEAD
      #temperature_slider_input
=======
      #biodiversity_report_temperature_slider
      = form.text_field :temperature, class: 'form-control'
>>>>>>> 880395c6b079b3922b9b9a4c9a8d16b180d66b8e
      = form.label :species_richness
      = form.text_field :species_richness, class: 'form-control'
      = form.label :diversity_index, 'Shannon-Wiener diversity index'
      = form.text_field :diversity_index, class: 'form-control'
      = form.label :photo
      = form.file_field :photo, class: 'form-control'
      %hr
      %h3 Soil Sample
      %p= link_to_toggle_sample_fields_for @biodiversity_report.soil_sample
      #soil_sample_fields.collapse{ class: visibility_class(@biodiversity_report.soil_sample) }
        = form.fields_for :soil_sample do |fields|
          = render partial: 'soil_sample_fields', locals: { f: fields }
      %hr
      %h3 Fungi Sample
      %p= link_to_toggle_sample_fields_for @biodiversity_report.fungi_sample
      #fungi_sample_fields.collapse{ class: visibility_class(@biodiversity_report.fungi_sample) }
        = form.fields_for :fungi_sample do |fields|
          = render partial: 'fungi_sample_fields', locals: { f: fields }
      %hr
      %h3 Lichen Sample
      %p= link_to_toggle_sample_fields_for @biodiversity_report.lichen_sample
      #lichen_sample_fields.collapse{ class: visibility_class(@biodiversity_report.lichen_sample) }
        = form.fields_for :lichen_sample do |fields|
          = render partial: 'lichen_sample_fields', locals: { f: fields }
      %hr
      %h3 Non-vascular Plant Sample
      %p= link_to_toggle_sample_fields_for @biodiversity_report.nonvascular_plant_sample
      #nonvascular_plant_sample_fields.collapse{ class: visibility_class(@biodiversity_report.nonvascular_plant_sample) }
        = form.fields_for :nonvascular_plant_sample do |fields|
          = render partial: 'nonvascular_plant_sample_fields', locals: { f: fields }
      %hr
      %h3 Macroinvertebrate Samples
      = form.fields_for :macroinvertebrate_samples do |macroinvertebrate_fields|
        = render partial: 'macroinvertebrate_sample_fields', locals: { f: macroinvertebrate_fields }
      %p= link_to_add_fields 'Add macroinvertebrate sample', form, :macroinvertebrate_samples
      %hr
      %h3 Plant Samples
      = form.fields_for :plant_samples do |plant_fields|
        = render partial: 'plant_sample_fields', locals: { f: plant_fields }
      %p= link_to_add_fields 'Add plant sample', form, :plant_samples
      %hr
      = form.submit class: 'btn btn-primary'
